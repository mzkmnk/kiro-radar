# 実装計画: TUI ダッシュボード

- [ ] 1. データ構造の定義

  - DashboardState 構造体を作成
  - 必要なフィールド（spec_name, total_tasks, completed_tasks）を定義
  - 進捗率計算メソッドを追加
  - _要件: 2.1, 2.2, 2.3_

- [ ] 2. レイアウト構築機能の実装

  - 3 分割レイアウト（ヘッダー、メイン、フッター）を作成
  - ratatui の Layout を使用
  - ターミナルサイズに応じた動的調整
  - _要件: 1.1, 1.2, 1.3_

- [ ]\* 2.1 プロパティテストを作成

  - **プロパティ 1: レイアウト構造の一貫性**
  - **検証: 要件 1.2**

- [ ]\* 2.2 プロパティテストを作成

  - **プロパティ 2: レイアウトの適応性**
  - **検証: 要件 1.3**

- [ ] 3. ウィジェット描画機能の実装

  - ヘッダーウィジェット（タイトル、Spec 名）
  - メインエリアウィジェット（タスク情報、プログレスバー）
  - フッターウィジェット（操作ガイド）
  - _要件: 2.1, 2.2, 2.3_

- [ ]\* 3.1 プロパティテストを作成

  - **プロパティ 3: Spec 名の表示**
  - **検証: 要件 2.1**

- [ ]\* 3.2 プロパティテストを作成

  - **プロパティ 4: タスク情報の表示**
  - **検証: 要件 2.2**

- [ ]\* 3.3 プロパティテストを作成

  - **プロパティ 5: プログレスバーの視覚化**
  - **検証: 要件 2.3**

- [ ] 4. キーボード入力処理の実装

  - 'q' キーで終了
  - 'Esc' キーで終了
  - crossterm のイベント処理を使用
  - _要件: 3.1, 3.2_

- [ ] 5. ターミナル管理機能の実装

  - ターミナル初期化
  - ターミナル復元
  - エラーハンドリング
  - _要件: 1.1, 3.3_

- [ ]\* 6. ユニットテストの作成

  - 起動時の UI 表示テスト
  - 'q' キー終了テスト
  - 'Esc' キー終了テスト
  - ターミナル復元テスト
  - _要件: 1.1, 3.1, 3.2, 3.3_

- [ ] 7. チェックポイント - すべてのテストが通ることを確認
  - すべてのテストが通ることを確認し、問題があればユーザーに質問する
